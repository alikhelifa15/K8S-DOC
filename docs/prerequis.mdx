---
title: PrÃ©requis
description: Configuration Google Cloud Platform et outils nÃ©cessaires pour dÃ©ployer FitConnect
---

# PrÃ©requis FitConnect ğŸ› ï¸

Configuration complÃ¨te de l'environnement pour dÃ©ployer FitConnect sur Google Kubernetes Engine.

## ğŸ¯ Vue d'Ensemble

### Environnement de Production

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Google Cloud Platform                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                GKE Cluster                              â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  â€¢ Project: k8s-frist-test                             â”‚    â”‚
â”‚  â”‚  â€¢ Region: europe-west1-b                              â”‚    â”‚
â”‚  â”‚  â€¢ Nodes: 3 x e2-standard-2                            â”‚    â”‚
â”‚  â”‚  â€¢ Version: 1.28+                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Artifact Registry                          â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  â€¢ Repository: annual-project-repo                     â”‚    â”‚
â”‚  â”‚  â€¢ Region: europe-west1                                â”‚    â”‚
â”‚  â”‚  â€¢ Images: frontend, api                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚               Cloud DNS                                 â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  â€¢ Domain: fitnessconnect.fr                           â”‚    â”‚
â”‚  â”‚  â€¢ Managed Certificates                                â”‚    â”‚
â”‚  â”‚  â€¢ Subdomains: api, login, admin, monitoring           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```



## â˜ï¸ Google Cloud Platform

### Configuration du Projet GCP

#### 1. CrÃ©ation du Projet

```bash
# Authentification
gcloud auth login

# CrÃ©er un nouveau projet (ou utiliser existant)
gcloud projects create k8s-frist-test --name="FitConnect Project"

# SÃ©lectionner le projet
gcloud config set project k8s-frist-test

# VÃ©rifier la configuration
gcloud config list
```

#### 2. Activation des APIs

```bash
# APIs essentielles pour FitConnect
gcloud services enable \
    container.googleapis.com \
    artifactregistry.googleapis.com \
    compute.googleapis.com \
    dns.googleapis.com \
    servicenetworking.googleapis.com \
    sqladmin.googleapis.com \
    monitoring.googleapis.com \
    logging.googleapis.com \
    cloudresourcemanager.googleapis.com \
    iam.googleapis.com

# VÃ©rifier les APIs activÃ©es
gcloud services list --enabled
```

#### 3. Configuration IAM

```bash
# CrÃ©er un compte de service pour GitLab CI
gcloud iam service-accounts create gitlab-ci \
    --description="GitLab CI/CD Service Account" \
    --display-name="GitLab CI"

# Attribuer les rÃ´les nÃ©cessaires
gcloud projects add-iam-policy-binding k8s-frist-test \
    --member="serviceAccount:gitlab-ci@k8s-frist-test.iam.gserviceaccount.com" \
    --role="roles/container.admin"

gcloud projects add-iam-policy-binding k8s-frist-test \
    --member="serviceAccount:gitlab-ci@k8s-frist-test.iam.gserviceaccount.com" \
    --role="roles/artifactregistry.admin"

gcloud projects add-iam-policy-binding k8s-frist-test \
    --member="serviceAccount:gitlab-ci@k8s-frist-test.iam.gserviceaccount.com" \
    --role="roles/compute.admin"

# CrÃ©er et tÃ©lÃ©charger la clÃ©
gcloud iam service-accounts keys create ~/gitlab-ci-key.json \
    --iam-account=gitlab-ci@k8s-frist-test.iam.gserviceaccount.com
```

### Configuration Quotas et Limites

```bash
# VÃ©rifier les quotas actuels
gcloud compute project-info describe --format="table(quotas.metric,quotas.limit,quotas.usage)"

# Quotas recommandÃ©s pour FitConnect:
# â€¢ CPUs: 24 (pour 3 nodes e2-standard-2)
# â€¢ Persistent Disk SSD: 500 GB
# â€¢ In-use IP addresses: 10
# â€¢ Forwarding rules: 5
```


## ğŸ“ Structure de Projet

### Arborescence RecommandÃ©e

```
fitconnect-project/
â”œâ”€â”€ README.md
â”œâ”€â”€ k8s/                           # Manifests Kubernetes
â”‚   â”œâ”€â”€ namespace/
â”‚   â”‚   â””â”€â”€ namespace.yaml
â”‚   â”œâ”€â”€ secrets/
â”‚   â”‚   â”œâ”€â”€ postgres-secret.yaml
â”‚   â”‚   â”œâ”€â”€ api-secret.yaml
â”‚   â”‚   â””â”€â”€ keycloak-secret.yaml
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”œâ”€â”€ postgres-pvc.yaml
â”‚   â”‚   â””â”€â”€ uptime-kuma-pvc.yaml
â”‚   â”œâ”€â”€ postgres/
â”‚   â”‚   â””â”€â”€ postgres-all.yaml
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ api-all.yaml
â”‚   â”œâ”€â”€ frontend/
â”‚   â”‚   â””â”€â”€ frontend-all.yaml
â”‚   â”œâ”€â”€ keycloak/
â”‚   â”‚   â”œâ”€â”€ keycloak-all.yaml
â”‚   â”‚   â”œâ”€â”€ keycloak-secret.yaml
â”‚   â”‚   â””â”€â”€ keycloak-service.yaml
â”‚   â”œâ”€â”€ adminer/
â”‚   â”‚   â””â”€â”€ adminer-all.yaml
â”‚   â”œâ”€â”€ uptime-kuma/
â”‚   â”‚   â””â”€â”€ uptime-kuma-all.yaml
â”‚   â”œâ”€â”€ network-policy/
â”‚   â”‚   â””â”€â”€ network-policy.yaml
â”‚   â””â”€â”€ ingress/
â”‚       â”œâ”€â”€ ingress.yaml
â”‚       â””â”€â”€ fitnessconnect-cert.yaml
â”œâ”€â”€ client/                        # Frontend React
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ src/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ server/                        # Backend NestJS
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ src/
â”‚   â””â”€â”€ ...
â””â”€â”€ .gitlab-ci.yml                # Pipeline CI/CD
```

